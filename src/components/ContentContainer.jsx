import React, { memo, useState } from "react";

import { Layout, Menu } from "antd";

import GetRoutes from "../route/route";
import MyMenu from "./MyMenu";

const { Sider, Content } = Layout;
import Loading from "./Loading";
import MyHeader from "./MyHeader";
import { menus } from "./menuList";

export default memo(function Test(props) {
  let [current, setCurrent] = useState("1");
  let [theme, setTheme] = useState("light");
  let [color, setColor] = useState("#2c2c2c");

  function setKey(key) {
    setCurrent(key);
  }
  function toggleTheme() {
    setTheme(theme === "light" ? "dark" : "light");
    setColor(color === "#2c2c2c" ? "#e6e6e6" : "#2c2c2c");
  }
  return (
    <Layout style={{ minHeight: "100%" }}>
      <Sider
        style={{
          overflow: "auto",
          height: "100vh",
          position: "fixed",
          left: 0,
          top: 0,
          bottom: 0,
        }}
        theme={theme}
      >
        <div className="logo">
          <svg
            t="1644321087780"
            className="icon"
            viewBox="0 0 9310 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="5896"
            width="160"
            height="40"
          >
            <path
              d="M249.437091 189.114182 249.437091 62.557091l327.261091 0c17.454545 2.932364 26.205091-5.818182 26.205091-26.205091L602.903273 23.272727l130.932364 0 0 87.272727c5.771636 58.228364-26.205091 84.386909-96.023273 78.568727l-56.738909 0 0 65.442909 170.170182 0L751.243636 372.363636l-170.170182 0 0 39.284364 130.932364 0 13.079273 453.818182c0 26.205091 11.589818 36.398545 34.909091 30.533818l8.750545 0L768.744727 45.102545l462.568727 0 0 846.568727 17.454545 0 0 113.477818L720.709818 1005.149091c-81.501091 8.750545-120.785455-27.694545-117.806545-109.102545l-13.079273-414.533818-13.079273 0 0 528.011636L428.357818 1009.524364 428.357818 481.466182 415.278545 481.466182l-8.750545 410.205091c0 78.568727-26.205091 114.874182-78.568727 109.102545L245.108364 1000.773818l0-113.477818 8.750545 0c11.589818 2.932364 18.850909-7.214545 21.829818-30.533818L284.346182 407.272727l148.386909 0L432.733091 372.363636 249.437091 372.363636 249.437091 254.557091l187.624727 0L437.061818 189.114182 249.437091 189.114182zM921.460364 324.375273l161.466182 0L1082.926545 171.659636l-161.466182 0L921.460364 324.375273zM1082.926545 603.648 1082.926545 442.181818l-161.466182 0 0 161.466182L1082.926545 603.648zM921.460364 891.624727l161.466182 0 0-161.466182-161.466182 0L921.460364 891.624727z"
              p-id="5897"
              fill={color}
            />
            <path
              d="M1379.653818 119.296l39.284364 0c20.340364 2.932364 36.305455-5.818182 47.988364-26.205091l39.284364-78.568727 170.170182 0-74.193455 152.715636 0 353.466182-148.386909 0 0-279.272727-74.193455 0L1379.607273 119.296zM1619.642182 896l157.090909-100.352 0-78.568727 183.296 0 0 82.897455 161.466182 96.023273c17.454545 11.636364 42.123636 16.011636 74.193455 13.079273l152.715636 0 0 104.727273-235.659636 0c-29.137455 0-53.853091-5.864727-74.193455-17.454545l-170.170182-96.023273-148.386909 87.272727c-23.319273 14.522182-43.659636 21.829818-61.114182 21.829818l-279.272727 0 0-100.352 187.624727 0C1584.733091 912.011636 1602.187636 907.636364 1619.642182 896zM1397.108364 843.636364l0-274.897455 938.170182 0 0 274.897455-157.090909 0 0-161.466182L1554.199273 682.170182l0 161.466182L1397.108364 843.636364zM1667.630545 49.477818l506.181818 0c17.454545 2.932364 26.205091-4.375273 26.205091-21.829818L2200.017455 10.193455l144.011636 0 0 91.648c2.885818 52.363636-20.386909 75.682909-69.818182 69.818182l-200.750545 0 0 65.442909 270.568727 0 0 117.806545-270.568727 0L2073.460364 407.272727l274.897455 0 0 117.806545L1667.630545 525.079273 1667.630545 407.272727l239.988364 0L1907.618909 354.909091l-239.988364 0L1667.630545 237.102545l239.988364 0L1907.618909 171.659636l-239.988364 0L1667.630545 49.477818z"
              p-id="5898"
              fill={color}
            />
            <path
              d="M2662.539636 101.841455 2662.539636 18.897455l139.636364 0 0 82.897455 144.011636 0 0 122.181818-144.011636 0L2802.176 267.636364l126.557091 0 21.829818 576c0 32.023273 15.965091 46.545455 47.988364 43.659636l61.114182 0c23.226182 2.932364 43.659636-10.146909 61.114182-39.284364l222.533818-436.363636 165.841455 0-170.170182 362.170182 65.442909 78.568727c11.589818 20.386909 26.205091 29.090909 43.659636 26.205091l21.829818 0 0 117.806545-69.818182 0c-34.909091 0-61.114182-10.24-78.568727-30.533818l-65.442909-56.738909-52.363636 65.442909c-14.568727 17.454545-40.773818 26.205091-78.568727 26.205091l-144.011636 0 0-26.205091-52.363636 0c-64.046545 0-96.023273-23.319273-96.023273-69.818182L2806.551273 394.193455l-8.750545 0L2797.800727 1000.727273l-135.261091 0L2662.539636 398.568727l-8.750545 0-21.829818 484.352c0 58.181818-27.694545 87.272727-82.897455 87.272727l-56.738909 0 0-104.727273 8.750545 0c11.589818 2.932364 17.454545-2.885818 17.454545-17.454545L2544.733091 267.636364l117.806545 0L2662.539636 224.023273l-170.170182 0L2492.369455 101.841455 2662.539636 101.841455zM2968.017455 58.181818l139.636364 0L3107.653818 18.897455l165.841455 0L3273.495273 58.181818l200.750545 0 0 130.932364-257.442909 0-91.648 161.466182 61.114182 0L3255.994182 232.727273l148.386909 0-283.648 514.932364c-20.386909 43.659636-52.363636 62.603636-96.023273 56.738909l-56.738909 0 0-122.181818 17.454545 0c11.589818 2.932364 21.829818-2.885818 30.533818-17.454545l100.352-192-144.011636 0 0-139.636364 82.897455-144.011636-87.272727 0L2967.924364 58.181818z"
              p-id="5899"
              fill={color}
            />
            <path
              d="M3661.824 843.636364 3661.824 18.897455l157.090909 0 0 864.023273c2.885818 87.272727-37.841455 129.396364-122.181818 126.557091l-87.272727 0 0-130.932364C3647.208727 881.477818 3664.663273 869.841455 3661.824 843.636364zM3866.903273 891.624727 3866.903273 18.897455l152.715636 0 0 833.442909c0 20.386909 13.079273 30.533818 39.284364 30.533818l301.102545 0 0 130.932364-384 0C3900.322909 1013.806545 3863.970909 973.032727 3866.903273 891.624727zM4098.187636 682.170182 4098.187636 18.897455l161.466182 0 0 584.750545c0 20.386909 13.079273 30.533818 39.284364 30.533818l61.114182 0 0 152.715636-148.386909 0C4130.117818 792.762182 4092.322909 757.853091 4098.187636 682.170182zM4416.744727 913.454545 4416.744727 18.897455l157.090909 0 0 833.442909c-2.932364 20.386909 8.750545 29.090909 34.909091 26.205091l0 135.261091-78.568727 0C4454.493091 1013.806545 4416.744727 980.340364 4416.744727 913.454545z"
              p-id="5900"
              fill={color}
            />
            <path
              d="M5027.653818 18.897455l152.715636 0 0 855.272727 87.272727 0L5267.642182 18.897455l152.715636 0 0 855.272727 296.727273 0 0 135.261091-968.750545 0 0-135.261091 279.272727 0L5027.607273 18.897455zM4778.914909 621.102545l-30.533818-549.841455 139.636364 0 26.205091 501.806545c-2.932364 34.909091 5.771636 49.477818 26.205091 43.659636l30.533818 0 0 130.932364-109.102545 0C4806.516364 753.477818 4778.914909 711.307636 4778.914909 621.102545zM5542.539636 577.442909l34.909091-510.557091 139.636364 0-39.284364 558.545455c-8.750545 84.386909-42.216727 123.671273-100.352 117.806545l-104.727273 0 0-130.932364 39.284364 0C5526.481455 615.284364 5536.674909 603.648 5542.539636 577.442909z"
              p-id="5901"
              fill={color}
            />
            <path
              d="M5848.017455 110.545455l91.648 0c17.454545 2.932364 31.976727-5.818182 43.659636-26.205091l34.909091-69.818182 165.841455 0-21.829818 39.284364 663.272727 0 0 104.727273-370.920727 209.454545 30.533818 17.454545c14.522182 11.636364 42.123636 16.011636 82.897455 13.079273l261.818182 0 0 122.181818-327.261091 0c-49.477818 5.864727-90.205091-4.375273-122.181818-30.533818l-74.193455-39.284364-52.363636 34.909091c-23.319273 14.568727-50.967273 23.319273-82.897455 26.205091l96.023273 0-21.829818 69.818182 576 0 0 344.715636c0 52.363636-20.386909 78.568727-61.114182 78.568727l-261.818182 0 0-117.806545 135.261091 0c23.226182 2.932364 34.909091-10.146909 34.909091-39.284364l0-130.932364-453.818182 0-56.738909 218.205091c-11.682909 46.498909-37.841455 69.818182-78.568727 69.818182l-235.659636 0 0-122.181818 139.636364 0c17.454545 2.932364 30.533818-8.750545 39.284364-34.909091l30.533818-130.932364-209.454545 0L5843.595636 581.818182l239.988364 0 17.454545-65.442909-257.442909 0L5843.595636 398.568727l231.284364 0c14.522182 0 29.044364-2.885818 43.659636-8.750545l39.284364-21.829818-196.375273-113.477818 270.568727 0 61.114182 34.909091 200.750545-100.352-379.624727 0c-20.386909 32.023273-47.988364 46.545455-82.897455 43.659636l-183.296 0L5848.064 110.545455z"
              p-id="5902"
              fill={color}
            />
            <path
              d="M7816.005818 32.023273 7816.005818 14.568727l139.636364 0 0 65.442909c11.589818 84.386909-24.715636 119.296-109.102545 104.727273l-283.648 0-253.114182 104.727273 205.079273 0 69.818182-26.205091 318.557091 0L7314.199273 512l466.897455 0c20.340364 2.932364 30.533818-7.214545 30.533818-30.533818L7811.630545 389.818182l148.386909 0 0 139.636364c11.589818 87.272727-29.090909 123.671273-122.181818 109.102545l-288.023273 0 0 375.296-161.466182 0 0-370.920727-423.284364 0L6965.061818 512l266.193455-100.352-266.193455 0L6965.061818 276.386909l288.023273-91.648-288.023273 0L6965.061818 58.181818l820.363636 0C7805.765818 61.114182 7816.005818 52.363636 7816.005818 32.023273zM7065.460364 865.466182l82.897455-178.920727 174.545455 0-122.181818 283.648c-8.750545 29.044364-33.512727 42.123636-74.193455 39.284364l-161.466182 0 0-126.557091 78.568727 0C7052.381091 885.853091 7059.595636 880.034909 7065.460364 865.466182zM7728.733091 957.114182l-113.477818-270.568727 170.170182 0 78.568727 178.920727c5.818182 20.386909 17.454545 27.694545 34.909091 21.829818l61.114182 0 0 122.181818-148.386909 0C7765.038545 1012.317091 7737.437091 994.862545 7728.733091 957.114182z"
              p-id="5903"
              fill={color}
            />
            <path
              d="M8064.744727 302.545455l161.466182-283.648 148.386909 0-174.545455 314.181818 47.988364 0 61.114182-109.102545 152.715636 0-226.909091 410.205091 196.375273 0 0 126.557091-366.545455 0 0-96.023273 122.181818-209.454545-122.181818 0L8064.791273 302.545455zM8426.914909 1005.102545l-362.170182 0 0-122.181818 362.170182 0L8426.914909 1005.102545zM8671.278545 62.557091 8671.278545 14.568727l165.841455 0 0 47.988364 222.533818 0 0 122.181818-344.715636 0L8631.994182 372.363636l270.568727 0c14.568727 2.932364 21.829818-4.375273 21.829818-21.829818l0-104.727273 139.636364 0 0 174.545455c0 58.228364-26.205091 85.829818-78.568727 82.897455l-61.114182 0 0 353.466182c-2.932364 26.205091 7.214545 37.841455 30.533818 34.909091l104.727273 0 0 117.806545-187.624727 0c-61.114182 0-90.205091-32.023273-87.272727-96.023273l0-410.205091-327.261091 0L8457.448727 407.272727l100.352-222.533818-100.352 0L8457.448727 62.557091 8671.278545 62.557091zM8536.017455 843.636364l47.988364-301.102545 135.261091 0-52.363636 370.920727c-5.864727 66.885818-36.398545 97.419636-91.648 91.648l-113.477818 0 0-117.806545 30.533818 0C8518.562909 893.114182 8533.085091 878.545455 8536.017455 843.636364z"
              p-id="5904"
              fill={color}
            />
          </svg>
        </div>
        <Menu theme={theme} mode="inline" selectedKeys={[current]}>
          {menus.map((value, index) => {
            return <MyMenu data={value} key={value.id} />;
          })}
        </Menu>
      </Sider>
      <Layout className="site-layout" style={{ marginLeft: 200 }}>
        <MyHeader toggleTheme={toggleTheme} />
        <Content
          className="site-layout-background"
          style={{
            margin: "24px 16px",
            padding: 10,
          }}
        >
          <GetRoutes setKey={setKey} />
          <Loading />
        </Content>
      </Layout>
    </Layout>
  );
});
